{"version":3,"sources":["../../src/pages/guess/guess.module.ts","../../src/pages/guess/guess.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACZ;AAUpC,IAAa,eAAe;IAA5B;IAA8B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAlB,eAAe;IAR3B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,yDAAS;SACV;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC;SACpC;KACF,CAAC;GACW,eAAe,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZc;AAC0B;AACR;AAGF;AACE;AAQ5D,IAAa,SAAS;IAIpB,mBAAmB,OAAsB,EAAS,SAAoB,EAAS,EAAuB,EAC/F,IAAiB,EAAS,YAA0B;QAD3D,iBASC;QATkB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,OAAE,GAAF,EAAE,CAAqB;QAC/F,SAAI,GAAJ,IAAI,CAAa;QAAS,iBAAY,GAAZ,YAAY,CAAc;QAH3D,YAAO,GAAkB,EAAE,CAAC;QAK1B,IAAI,WAAW,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC5C,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC1C,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAc,WAAW,aAAU,CAAC,CAAC,SAAS,CAAE,WAAC;YAC5D,KAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,0BAAM,GAAN,UAAO,QAAqB;QAC1B,4CAA4C;QAC5C,OAAO,CAAC,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;QACtD,OAAO,CAAC,GAAG,CAAC,gBAAgB,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC9C,EAAE,EAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,IAAG,CAAC,CAAC;YACvC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,YAAU,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,eAAU,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAM,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YAC3I,OAAO,CAAC,GAAG,CAAC,qBAAqB,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;YACnD,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,aAAW,IAAI,CAAC,QAAQ,mBAAgB,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACrE,CAAC;QAED,4BAA4B;QAC5B,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,aAAW,IAAI,CAAC,QAAQ,gBAAa,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAEhE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7B,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI;YAC3C,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACxB,CAAC,CAAC;IACL,CAAC;IAEH,gBAAC;AAAD,CAAC;AAnCY,SAAS;IALrB,wEAAS,EAAE;IACX,wEAAS,CAAC;QACT,QAAQ,EAAE,YAAY;OACG;KAC1B,CAAC;oKAKsG;QACzF,MAA8C;AA8B5D;SAnCY,SAAS,e","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { GuessPage } from './guess';\n\n@NgModule({\n  declarations: [\n    GuessPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(GuessPage),\n  ],\n})\nexport class GuessPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/guess/guess.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { Observable } from 'rxjs/Observable';\nimport { CategoryModel, MemberModel } from '../../Models/category.model';\nimport { AuthService } from '../../services/auth.service';\nimport { RoomsService } from '../../services/rooms.service';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-guess',\n  templateUrl: 'guess.html',\n})\nexport class GuessPage {\n  secret: number;\n  members: MemberModel[] = [];\n  roundKey: string;\n  constructor(public navCtrl: NavController, public navParams: NavParams, public af: AngularFireDatabase,\n  public auth: AuthService, public roomsService: RoomsService) {\n    \n    let categoryKey = navParams.get('category');\n    this.secret = navParams.get('secret');\n    this.roundKey = navParams.get('roundKey');\n    this.af.list(`categories/${categoryKey}/members`).subscribe( t=>{\n      this.members = t;\n    });\n  }\n\n  choose(category: MemberModel) {\n    // check if the spy selects the right secret\n    console.log(\"this.secret  \" + this.secret.toString());\n    console.log(\"category.$key \" + category.$key);\n    if(this.secret.toString() == category.$key) {\n      this.auth.currentUser.pointsInRoom +=3;\n      this.af.object(`/rooms/${this.roomsService.currentRoom.$key}/users/${this.auth.currentUser.$key}`).set(this.auth.currentUser.pointsInRoom);\n      console.log(\"round key of guess \" + this.roundKey);\n      this.af.object(`/rounds/${this.roundKey}/spyGuessRight`).set(true);\n    }\n\n    // raise that the spy guess \n    this.af.object(`/rounds/${this.roundKey}/isSpyGuess`).set(true);\n    \n    this.navCtrl.push('ScorePage', {\n      roomKey: this.roomsService.currentRoom.$key,\n      roundKey: this.roundKey\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/guess/guess.ts"],"sourceRoot":""}